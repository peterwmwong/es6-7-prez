
<link rel="import" href="./prez-slide.html"/>
<link rel="import" href="../../bower_components/ace-element/ace-element.html"/>
<polymer-element attributes="slide" name="prez-app">
  <template>
    <link rel="stylesheet" href="prez-app.css"/>
    <prez-slide class="prez-slide--primary">
      <div class="prez-slide__content">
        <h1 class="l-margin-b1 t-heading">ECMAScript 6 / 7</h1>
        <h3>The Fucking Awesome Parts</h3>
      </div>
    </prez-slide>
    <prez-slide>
      <div class="prez-slide__content">
        <h2 class="l-margin-b4">Why is it important?</h2>
        <ul>
          <li>Ton of new features</li>
          <li>Impactful features (write, organize, build, analyze)</li>
          <li>Fast community adoption (React, Angular, and Ember)</li>
          <li class="t-bold">You can use it now!</li>
        </ul>
      </div>
    </prez-slide>
    <prez-slide class="prez-slide--primary">
      <div class="prez-slide__content">
        <h1 class="l-margin-b1 t-heading">Arrow Functions and Literal Shorthand</h1>
        <h3>Less typing</h3>
      </div>
    </prez-slide>
    <prez-slide>
      <div class="prez-slide__content">
        <div class="prez-slide__code prez-slide__code--big">
          <ace-element mode="javascript">// Old
function(arg1, arg2){ /*...*/ }

// New!
(arg1, arg2)=>{ /*...*/ }
(arg1, arg2)=> returnValue;
arg=> returnValue;
          </ace-element>
        </div>
      </div>
    </prez-slide>
    <prez-slide>
      <div class="prez-slide__content">
        <div class="prez-slide__code">
          <ace-element mode="javascript">[1,2,3].map(function(num){return num*2});

[1,2,3].map(num=>num*2);

//> [2,4,6]
          </ace-element>
        </div>
      </div>
    </prez-slide>
    <prez-slide>
      <div class="prez-slide__content">
        <h2 class="l-margin-b4"><code>this</code> locked in</h2>
        <div class="prez-slide__code">
          <ace-element mode="javascript">this.something = 'hello';
$.ajax('blah.json').done(data=>{
  this.something === 'hello';
  //> true
})

          </ace-element>
        </div>
      </div>
    </prez-slide>
    <prez-slide>
      <div class="prez-slide__content">
        <h2 class="l-margin-b4">Object literal shorthand</h2>
        <div class="prez-slide__code prez-slide__code--big">
          <ace-element mode="javascript">var myObject = {
  oldWay: function(){ /*...*/ },
  newWay() { /*...*/ }
};
          </ace-element>
        </div>
      </div>
    </prez-slide>
    <prez-slide class="prez-slide--primary">
      <div class="prez-slide__content">
        <h1 class="t-heading">Rest/Spread</h1>
        <h3>no more <code>arguments</code></h3>
      </div>
    </prez-slide>
    <prez-slide>
      <div class="prez-slide__content">
        <div class="prez-slide__code prez-slide__code--big">
          <ace-element mode="javascript">var doubleAll = (...args)=>args.map(a=>a*2);

doubleAll(1,2,3);

var anArray = [1,2,3];
doubleAll(...anArray);
          </ace-element>
        </div>
      </div>
    </prez-slide>
    <prez-slide>
      <div class="prez-slide__content">
        <div class="prez-slide__code prez-slide__code--big">
          <ace-element mode="javascript">var doubleAll = (...args)=>args.map(a=>a*2);

var runFuncWithArgs = (cmd, ...args)=>cmd(...args);

runFuncWithArgs(doubleAll, 1,2,3);
          </ace-element>
        </div>
      </div>
    </prez-slide>
    <prez-slide class="prez-slide--primary">
      <div class="prez-slide__content">
        <h1 class="t-heading">Classes</h1>
        <h3>In the prototypical sense...</h3>
      </div>
    </prez-slide>
    <prez-slide>
      <div class="prez-slide__content">
        <div class="prez-slide__code prez-slide__code--big">
          <ace-element mode="javascript">function Thing(){
  console.log('hello world');
}
Thing.prototype.doStuff = function(){/*...*/};

var thingInstance = new Thing();
// 'hello world'

thingInstance instanceof Thing;
// > true
          </ace-element>
        </div>
      </div>
    </prez-slide>
    <prez-slide>
      <div class="prez-slide__content">
        <div class="prez-slide__code prez-slide__code--big">
          <ace-element mode="javascript">class Thing {
  constructor(){ console.log('hello world') }
  doStuff(){/*...*/}
}
var thingInstance = new Thing();
// 'hello world'

thingInstance instanceof Thing;
// > true
          </ace-element>
        </div>
      </div>
    </prez-slide>
    <prez-slide>
      <div class="prez-slide__content">
        <h2 class="l-margin-b4">extends/super</h2>
        <div class="prez-slide__code prez-slide__code--big">
          <ace-element mode="javascript">class Thing {
  doStuff(){ /*...*/ }
}

class BetterThing extends Thing {
  doStuff(){
    super();
    /* ...and then more stuff */
  }
}
          </ace-element>
        </div>
      </div>
    </prez-slide>
    <prez-slide>
      <div class="prez-slide__content">
        <h2>Private Members</h2>
      </div>
    </prez-slide>
    <prez-slide>
      <div class="prez-slide__content">
        <h2 class="l-margin-b4">Before ES6: Closure Pattern</h2>
        <div class="prez-slide__code prez-slide__code--big">
          <ace-element mode="javascript">function Thing(){
  function _internalDoStuff(){ /*...*/ }
  
  this.doStuff = function(){
    _internalDoStuff();
  };
}
          </ace-element>
        </div>
      </div>
    </prez-slide>
    <prez-slide>
      <div class="prez-slide__content">
        <h2 class="l-margin-b4">ES6... not awesome</h2>
        <div class="prez-slide__code prez-slide__code--big">
          <ace-element mode="javascript">var internalDoStuff = Symbol();

class Thing {
  [internalDoStuff](){ /*...*/ }
  
  doStuff(){ this[internalDoStuff]() }
}
          </ace-element>
        </div>
      </div>
    </prez-slide>
    <prez-slide>
      <div class="prez-slide__content">
        <h2 class="l-margin-b4">Detour: Computed Property Keys</h2>
        <div class="prez-slide__code prez-slide__code--big">
          <ace-element mode="javascript">var propertyName = "Fr";

// Old
var oldWay = {};
oldWay[properyName + "ed"] = "Flinstone";

// New!
var a = {
  [propertyName + "ed"]: "Flintstone"
};
          </ace-element>
        </div>
      </div>
    </prez-slide>
    <prez-slide>
      <div class="prez-slide__content">
        <h2 class="l-margin-b4">Detour: Symbol</h2>
        <div class="prez-slide__code prez-slide__code--big">
          <ace-element mode="javascript">var sym1 = Symbol();
var sym2 = Symbol();

sym1 === sym2;
//> false
          </ace-element>
        </div>
      </div>
    </prez-slide>
    <prez-slide>
      <div class="prez-slide__content">
        <h2 class="l-margin-b4">One more time...</h2>
        <div class="prez-slide__code prez-slide__code--big">
          <ace-element mode="javascript">var internalDoStuff = Symbol();

class Thing {
  [internalDoStuff](){ /*...*/ }
  
  doStuff(){ this[internalDoStuff]() }
}
          </ace-element>
        </div>
      </div>
    </prez-slide>
    <prez-slide>
      <div class="prez-slide__content">
        <h2>Class Statics</h2>
      </div>
    </prez-slide>
    <prez-slide>
      <div class="prez-slide__content">
        <div class="prez-slide__code prez-slide__code--big">
          <ace-element mode="javascript">class Thing {
  static doStuff(){ return 'produce stuff' }
}

Thing.doStuff();
// > 'produce stuff'
          </ace-element>
        </div>
      </div>
    </prez-slide>
    <prez-slide class="prez-slide--primary">
      <div class="prez-slide__content">
        <h1 class="t-heading">Modules</h1>
      </div>
    </prez-slide>
    <prez-slide>
      <div class="prez-slide__content prez-slide__content--full-width"><img src="../../images/price-is-right-winner-gif.gif" class="l-width-100"/></div>
    </prez-slide>
    <prez-slide>
      <div class="prez-slide__content">
        <h2 class="l-margin-b4">Meanwhile in Java...</h2>
        <div class="prez-slide__code prez-slide__code--big">
          <ace-element mode="javascript">import org.slf4j.Logger;
          </ace-element>
        </div>
      </div>
    </prez-slide>
    <prez-slide>
      <div class="prez-slide__content">
        <h2 class="l-margin-b4">Meanwhile in Ruby...</h2>
        <div class="prez-slide__code prez-slide__code--big">
          <ace-element mode="javascript">require 'yaml'
          </ace-element>
        </div>
      </div>
    </prez-slide>
    <prez-slide>
      <div class="prez-slide__content">
        <h2 class="l-margin-b4">In JS... HTML...</h2>
        <div class="prez-slide__code prez-slide__code--big">
          <ace-element mode="javascript">&lt;script src='myStuff.js'/>
          </ace-element>
        </div>
      </div>
    </prez-slide>
    <prez-slide>
      <div class="prez-slide__content">
        <h2 class="l-margin-b4">The shit we do...</h2>
        <div class="prez-slide__code prez-slide__code--big">
          <ace-element mode="javascript">var myStuff = require('./myStuff');

define(['./someOtherStuff'],
  function(someOtherStuff){/*...*/});
  
Ext.require('widget.window');

curl(['yetMoreStuff']).
  then(function(yetMoreStuff){/*...*/});
  
steal('widgets/tabs.js', './style.css',
  function(Tabs){/*...*/});
  
(function(){
  var script = document.createElement('script');
  script.src = 'omg-why.js';
  document.appendChild(script);
})();
          </ace-element>
        </div>
      </div>
    </prez-slide>
    <prez-slide>
      <div class="prez-slide__content">
        <h2 class="l-margin-b4">ES6: Import/Export</h2>
        <div class="prez-slide__code prez-slide__code--big">
          <ace-element mode="javascript">// models/Model.js
export class Model {}

// models/LineItem.js
import {Model} from './Model';
class LineItem extends Model {}
          </ace-element>
        </div>
      </div>
    </prez-slide>
    <prez-slide>
      <div class="prez-slide__content">
        <h2 class="l-margin-b4">ES6: Import/Export Multiple</h2>
        <div class="prez-slide__code prez-slide__code--big">
          <ace-element mode="javascript">// models/Model.js
export class Model {}
export class ModelHelper {}

// models/LineItem.js
import {Model, ModelHelper} from './Model';
          </ace-element>
        </div>
      </div>
    </prez-slide>
    <prez-slide>
      <div class="prez-slide__content">
        <h2 class="l-margin-b4">ES6: Import/Export Default</h2>
        <div class="prez-slide__code prez-slide__code--big">
          <ace-element mode="javascript">// models/Model.js
export default class Model {}

// models/LineItem.js
import Model from './Model';
class LineItem extends Model {}
          </ace-element>
        </div>
      </div>
    </prez-slide>
    <prez-slide>
      <div class="prez-slide__content">
        <h2 class="l-margin-b4">Module Loader API</h2>
        <ul>
          <li>Change how modules are loaded
            <ul class="l-margin-t2">
              <li>dev/test/production pathing</li>
              <li>load non-JS modules (CSS, text files, CoffeeScript, TypeScript, etc.)</li>
            </ul>
          </li>
        </ul>
      </div>
    </prez-slide>
    <prez-slide class="prez-slide--primary">
      <div class="prez-slide__content">
        <h1 class="t-heading">Promises /</h1>
        <h1 class="t-heading">Async Functions</h1>
        <h3 class="l-margin-t2">Sane asynchronicity</h3>
      </div>
    </prez-slide>
    <prez-slide>
      <div class="prez-slide__content">
        <h2 class="l-margin-b4">Callback Hell</h2>
        <div class="prez-slide__code prez-slide__code--big">
          <ace-element mode="javascript">fs.readdir(source, function(err, files) {
  if (err) console.log('Error finding files: ' + err)
  else
    files.forEach(function(filename, fileIndex) {
      gm(source + filename).size(function(err, values) {
        if (err) console.log('Error identifying file size: ' + err)
        else {
          console.log(filename + ' : ' + values)
          aspect = (values.width / values.height)
          widths.forEach(function(width, widthIndex) {
          </ace-element>
        </div>
      </div>
    </prez-slide>
    <prez-slide>
      <div class="prez-slide__content">
        <h2 class="l-margin-b4">Promises</h2>
        <div class="prez-slide__code prez-slide__code--bigger">
          <ace-element mode="javascript">function app(){
  // readFile() returns a promise
  function readEvalExecuteFile(file){
    return readFile(file)
            .then(contents=>evaluate(contents))
  }
  readEvalExecuteFile('blah.js')
    .then(result=>console.log("Result:", result))
    .catch(err=>console.log("Couldn't read/eval/execute file", err));
}
          </ace-element>
        </div>
      </div>
    </prez-slide>
    <prez-slide>
      <div class="prez-slide__content">
        <h2 class="l-margin-b4">Async Functions</h2>
        <div class="prez-slide__code prez-slide__code--bigger">
          <ace-element mode="javascript">async function app(){
  function async readEvalExecuteFile(file){
    var contents = await readFile(file);
    return evaluate(contents);
  }
  
  try {
    console.log("Result:", await readEvalExecuteFile('blah.js'));
  } catch(err) {
    console.log("Couldn't read/eval/execute file", err);
  }
}
          </ace-element>
        </div>
      </div>
    </prez-slide>
    <prez-slide>
      <div class="prez-slide__content">
        <h2 class="l-margin-b4">If everything were synchronous...</h2>
        <div class="prez-slide__code prez-slide__code--bigger">
          <ace-element mode="javascript">function app(){
  function readEvalExecuteFile(file){
    var contents = readFile(file);
    return evaluate(contents);
  }
  
  try {
    console.log("Result:", readEvalExecuteFile('blah.js'));
  } catch(err) {
    console.log("Couldn't read/eval/execute file", err);
  }
}
          </ace-element>
        </div>
      </div>
    </prez-slide>
    <prez-slide class="prez-slide--primary">
      <div class="prez-slide__content">
        <h1 class="l-margin-b4 t-heading">And much much more...</h1>
        <ul>
          <li>Destructuring</li>
          <li>Array Comprehensions</li>
          <li>Generators</li>
          <li>Map/Set WeakMap/WeakSet</li>
          <li>Template Strings</li>
          <li>let/const</li>
          <li>Typed Objects</li>
        </ul>
      </div>
    </prez-slide>
    <prez-slide class="prez-slide--primary">
      <div class="prez-slide__content">
        <h1 class="l-margin-b4 t-heading">Use it today</h1>
        <ul>
          <li>Transpilers/Polyfills: &nbsp;<a href="https://github.com/addyosmani/es6-tools">addyosmani/es6-tools</a></li>
          <li>I recommend&nbsp;
            <ul class="l-margin-t2">
              <li><a href="https://github.com/google/traceur-compiler" target="_blank">traceur</a></li>
              <li><a href="https://github.com/ModuleLoader/es6-module-loader" target="_blank">es6-module-loader</a></li>
            </ul>
          </li>
        </ul>
      </div>
    </prez-slide>
  </template>
  <script>System.import('elements/prez-app');</script>
</polymer-element>